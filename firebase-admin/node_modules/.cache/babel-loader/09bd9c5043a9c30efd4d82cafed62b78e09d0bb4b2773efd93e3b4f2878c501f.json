{"ast":null,"code":"import React,{useState,useEffect}from'react';import{setupDatabase,checkDatabaseSetup}from'../utils/setupDatabase';import{Building2,CheckCircle,AlertCircle,Loader}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Setup=()=>{const[setupStatus,setSetupStatus]=useState('checking');const[setupProgress,setSetupProgress]=useState('');const[isComplete,setIsComplete]=useState(false);useEffect(()=>{checkSetup();},[]);const checkSetup=async()=>{try{const status=await checkDatabaseSetup();if(status.hasAdmins&&status.hasProperties){setSetupStatus('complete');setIsComplete(true);}else{setSetupStatus('incomplete');}}catch(error){console.error('Error checking setup:',error);setSetupStatus('error');}};const runSetup=async()=>{setSetupStatus('running');setSetupProgress('Creating admin user...');try{const success=await setupDatabase();if(success){setSetupStatus('complete');setIsComplete(true);setSetupProgress('Database setup completed successfully!');}else{setSetupStatus('error');setSetupProgress('Setup failed. Please try again.');}}catch(error){console.error('Setup error:',error);setSetupStatus('error');setSetupProgress('Setup failed. Please check console for details.');}};if(setupStatus==='checking'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Loader,{className:\"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Checking database setup...\"})]})});}if(isComplete){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-16 w-16 text-green-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Setup Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Your Firebase database is ready. You can now access the admin panel.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Admin Email:\"}),\" admin@realestate.com\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Password:\"}),\" admin123\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/login',className:\"mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\",children:\"Go to Login\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(Building2,{className:\"h-16 w-16 text-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Database Setup\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Set up your Firebase database with sample data and admin user.\"})]}),setupStatus==='error'&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-400 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Setup Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 mt-1\",children:setupProgress})]})]})}),setupStatus==='running'&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Loader,{className:\"h-5 w-5 text-blue-400 mr-2 animate-spin\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-800\",children:\"Setting up database...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600 mt-1\",children:setupProgress})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:\"What will be created:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500 mr-2\"}),\"Admin user account\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500 mr-2\"}),\"Sample properties\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500 mr-2\"}),\"Database structure\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:runSetup,disabled:setupStatus==='running',className:\"w-full mt-6 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:setupStatus==='running'?'Setting up...':'Setup Database'}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"This will create sample data in your Firebase project.\"})})]})});};export default Setup;","map":{"version":3,"names":["React","useState","useEffect","setupDatabase","checkDatabaseSetup","Building2","CheckCircle","AlertCircle","Loader","jsx","_jsx","jsxs","_jsxs","Setup","setupStatus","setSetupStatus","setupProgress","setSetupProgress","isComplete","setIsComplete","checkSetup","status","hasAdmins","hasProperties","error","console","runSetup","success","className","children","onClick","window","location","href","disabled"],"sources":["/Users/bhuvanaa/Documents/my-react-app/firebase-admin/src/pages/Setup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { setupDatabase, checkDatabaseSetup } from '../utils/setupDatabase';\nimport { Building2, CheckCircle, AlertCircle, Loader } from 'lucide-react';\n\nconst Setup = () => {\n  const [setupStatus, setSetupStatus] = useState('checking');\n  const [setupProgress, setSetupProgress] = useState('');\n  const [isComplete, setIsComplete] = useState(false);\n\n  useEffect(() => {\n    checkSetup();\n  }, []);\n\n  const checkSetup = async () => {\n    try {\n      const status = await checkDatabaseSetup();\n      if (status.hasAdmins && status.hasProperties) {\n        setSetupStatus('complete');\n        setIsComplete(true);\n      } else {\n        setSetupStatus('incomplete');\n      }\n    } catch (error) {\n      console.error('Error checking setup:', error);\n      setSetupStatus('error');\n    }\n  };\n\n  const runSetup = async () => {\n    setSetupStatus('running');\n    setSetupProgress('Creating admin user...');\n    \n    try {\n      const success = await setupDatabase();\n      if (success) {\n        setSetupStatus('complete');\n        setIsComplete(true);\n        setSetupProgress('Database setup completed successfully!');\n      } else {\n        setSetupStatus('error');\n        setSetupProgress('Setup failed. Please try again.');\n      }\n    } catch (error) {\n      console.error('Setup error:', error);\n      setSetupStatus('error');\n      setSetupProgress('Setup failed. Please check console for details.');\n    }\n  };\n\n  if (setupStatus === 'checking') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <Loader className=\"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600\" />\n          <p className=\"text-gray-600\">Checking database setup...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (isComplete) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center\">\n          <CheckCircle className=\"h-16 w-16 text-green-500 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Setup Complete!</h1>\n          <p className=\"text-gray-600 mb-6\">\n            Your Firebase database is ready. You can now access the admin panel.\n          </p>\n          <div className=\"space-y-2 text-sm text-gray-500\">\n            <p><strong>Admin Email:</strong> admin@realestate.com</p>\n            <p><strong>Password:</strong> admin123</p>\n          </div>\n          <button\n            onClick={() => window.location.href = '/login'}\n            className=\"mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\"\n          >\n            Go to Login\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8\">\n        <div className=\"text-center mb-6\">\n          <Building2 className=\"h-16 w-16 text-blue-600 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Database Setup</h1>\n          <p className=\"text-gray-600\">\n            Set up your Firebase database with sample data and admin user.\n          </p>\n        </div>\n\n        {setupStatus === 'error' && (\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-md\">\n            <div className=\"flex\">\n              <AlertCircle className=\"h-5 w-5 text-red-400 mr-2\" />\n              <div>\n                <h3 className=\"text-sm font-medium text-red-800\">Setup Failed</h3>\n                <p className=\"text-sm text-red-600 mt-1\">{setupProgress}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {setupStatus === 'running' && (\n          <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md\">\n            <div className=\"flex\">\n              <Loader className=\"h-5 w-5 text-blue-400 mr-2 animate-spin\" />\n              <div>\n                <h3 className=\"text-sm font-medium text-blue-800\">Setting up database...</h3>\n                <p className=\"text-sm text-blue-600 mt-1\">{setupProgress}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          <h3 className=\"font-medium text-gray-900\">What will be created:</h3>\n          <ul className=\"space-y-2 text-sm text-gray-600\">\n            <li className=\"flex items-center\">\n              <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n              Admin user account\n            </li>\n            <li className=\"flex items-center\">\n              <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n              Sample properties\n            </li>\n            <li className=\"flex items-center\">\n              <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n              Database structure\n            </li>\n          </ul>\n        </div>\n\n        <button\n          onClick={runSetup}\n          disabled={setupStatus === 'running'}\n          className=\"w-full mt-6 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          {setupStatus === 'running' ? 'Setting up...' : 'Setup Database'}\n        </button>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-xs text-gray-500\">\n            This will create sample data in your Firebase project.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Setup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}