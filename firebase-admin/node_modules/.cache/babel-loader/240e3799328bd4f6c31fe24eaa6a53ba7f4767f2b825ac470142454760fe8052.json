{"ast":null,"code":"import{collection,addDoc,doc,setDoc}from'firebase/firestore';import{createUserWithEmailAndPassword}from'firebase/auth';import{db,auth}from'../firebase';// Initialize database with sample data\nexport const setupDatabase=async()=>{try{// Create admin user\nconst adminEmail='admin@realestate.com';const adminPassword='admin123';try{const userCredential=await createUserWithEmailAndPassword(auth,adminEmail,adminPassword);const adminUser=userCredential.user;// Create admin document\nawait setDoc(doc(db,'admins',adminUser.uid),{name:'Super Admin',email:adminEmail,role:'super-admin',isActive:true,createdAt:new Date()});console.log('Admin user created successfully');}catch(error){if(error.code==='auth/email-already-in-use'){console.log('Admin user already exists');}else{console.error('Error creating admin user:',error);}}// Add sample properties\nconst sampleProperties=[{title:'Luxury Apartment in Downtown',description:'Beautiful 3-bedroom apartment with modern amenities in the heart of the city.',price:7500000,location:{address:'123 Main Street',city:'Mumbai',state:'Maharashtra',pincode:'400001'},propertyType:'apartment',status:'ready-to-move',bedrooms:3,bathrooms:2,area:1200,images:[{url:'https://images.unsplash.com/photo-1613977257593-3bbbf9c4f6c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',alt:'Luxury Apartment',isPrimary:true}],amenities:['Swimming Pool','Gym','Parking','Security'],isFeatured:true,isActive:true,createdBy:'admin',createdAt:new Date(),updatedAt:new Date()},{title:'Modern Villa with Garden',description:'Spacious 4-bedroom villa with private garden and modern facilities.',price:12000000,location:{address:'456 Garden Lane',city:'Bangalore',state:'Karnataka',pincode:'560001'},propertyType:'villa',status:'ongoing',bedrooms:4,bathrooms:3,area:2000,images:[{url:'https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',alt:'Modern Villa',isPrimary:true}],amenities:['Garden','Parking','Security','Power Backup'],isFeatured:true,isActive:true,createdBy:'admin',createdAt:new Date(),updatedAt:new Date()},{title:'Commercial Plot for Development',description:'Prime commercial plot in business district, perfect for office or retail development.',price:25000000,location:{address:'789 Business Park',city:'Delhi',state:'Delhi',pincode:'110001'},propertyType:'plot',status:'pre-launch',bedrooms:0,bathrooms:0,area:5000,images:[{url:'https://images.unsplash.com/photo-1502005229762-cf1b2da7c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',alt:'Commercial Plot',isPrimary:true}],amenities:['Prime Location','Easy Access','Development Ready'],isFeatured:true,isActive:true,createdBy:'admin',createdAt:new Date(),updatedAt:new Date()}];// Add properties to Firestore\nfor(const property of sampleProperties){try{await addDoc(collection(db,'properties'),property);console.log(\"Added property: \".concat(property.title));}catch(error){console.error(\"Error adding property \".concat(property.title,\":\"),error);}}console.log('Database setup completed successfully!');return true;}catch(error){console.error('Error setting up database:',error);return false;}};// Function to check if database is already set up\nexport const checkDatabaseSetup=async()=>{try{const{getDocs,collection}=await import('firebase/firestore');const propertiesSnapshot=await getDocs(collection(db,'properties'));const adminsSnapshot=await getDocs(collection(db,'admins'));return{hasProperties:!propertiesSnapshot.empty,hasAdmins:!adminsSnapshot.empty};}catch(error){console.error('Error checking database setup:',error);return{hasProperties:false,hasAdmins:false};}};","map":{"version":3,"names":["collection","addDoc","doc","setDoc","createUserWithEmailAndPassword","db","auth","setupDatabase","adminEmail","adminPassword","userCredential","adminUser","user","uid","name","email","role","isActive","createdAt","Date","console","log","error","code","sampleProperties","title","description","price","location","address","city","state","pincode","propertyType","status","bedrooms","bathrooms","area","images","url","alt","isPrimary","amenities","isFeatured","createdBy","updatedAt","property","concat","checkDatabaseSetup","getDocs","propertiesSnapshot","adminsSnapshot","hasProperties","empty","hasAdmins"],"sources":["/Users/bhuvanaa/Documents/my-react-app/firebase-admin/src/utils/setupDatabase.js"],"sourcesContent":["import { collection, addDoc, doc, setDoc } from 'firebase/firestore';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { db, auth } from '../firebase';\n\n// Initialize database with sample data\nexport const setupDatabase = async () => {\n  try {\n    // Create admin user\n    const adminEmail = 'admin@realestate.com';\n    const adminPassword = 'admin123';\n    \n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, adminEmail, adminPassword);\n      const adminUser = userCredential.user;\n      \n      // Create admin document\n      await setDoc(doc(db, 'admins', adminUser.uid), {\n        name: 'Super Admin',\n        email: adminEmail,\n        role: 'super-admin',\n        isActive: true,\n        createdAt: new Date()\n      });\n      \n      console.log('Admin user created successfully');\n    } catch (error) {\n      if (error.code === 'auth/email-already-in-use') {\n        console.log('Admin user already exists');\n      } else {\n        console.error('Error creating admin user:', error);\n      }\n    }\n\n    // Add sample properties\n    const sampleProperties = [\n      {\n        title: 'Luxury Apartment in Downtown',\n        description: 'Beautiful 3-bedroom apartment with modern amenities in the heart of the city.',\n        price: 7500000,\n        location: {\n          address: '123 Main Street',\n          city: 'Mumbai',\n          state: 'Maharashtra',\n          pincode: '400001'\n        },\n        propertyType: 'apartment',\n        status: 'ready-to-move',\n        bedrooms: 3,\n        bathrooms: 2,\n        area: 1200,\n        images: [\n          {\n            url: 'https://images.unsplash.com/photo-1613977257593-3bbbf9c4f6c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',\n            alt: 'Luxury Apartment',\n            isPrimary: true\n          }\n        ],\n        amenities: ['Swimming Pool', 'Gym', 'Parking', 'Security'],\n        isFeatured: true,\n        isActive: true,\n        createdBy: 'admin',\n        createdAt: new Date(),\n        updatedAt: new Date()\n      },\n      {\n        title: 'Modern Villa with Garden',\n        description: 'Spacious 4-bedroom villa with private garden and modern facilities.',\n        price: 12000000,\n        location: {\n          address: '456 Garden Lane',\n          city: 'Bangalore',\n          state: 'Karnataka',\n          pincode: '560001'\n        },\n        propertyType: 'villa',\n        status: 'ongoing',\n        bedrooms: 4,\n        bathrooms: 3,\n        area: 2000,\n        images: [\n          {\n            url: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',\n            alt: 'Modern Villa',\n            isPrimary: true\n          }\n        ],\n        amenities: ['Garden', 'Parking', 'Security', 'Power Backup'],\n        isFeatured: true,\n        isActive: true,\n        createdBy: 'admin',\n        createdAt: new Date(),\n        updatedAt: new Date()\n      },\n      {\n        title: 'Commercial Plot for Development',\n        description: 'Prime commercial plot in business district, perfect for office or retail development.',\n        price: 25000000,\n        location: {\n          address: '789 Business Park',\n          city: 'Delhi',\n          state: 'Delhi',\n          pincode: '110001'\n        },\n        propertyType: 'plot',\n        status: 'pre-launch',\n        bedrooms: 0,\n        bathrooms: 0,\n        area: 5000,\n        images: [\n          {\n            url: 'https://images.unsplash.com/photo-1502005229762-cf1b2da7c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',\n            alt: 'Commercial Plot',\n            isPrimary: true\n          }\n        ],\n        amenities: ['Prime Location', 'Easy Access', 'Development Ready'],\n        isFeatured: true,\n        isActive: true,\n        createdBy: 'admin',\n        createdAt: new Date(),\n        updatedAt: new Date()\n      }\n    ];\n\n    // Add properties to Firestore\n    for (const property of sampleProperties) {\n      try {\n        await addDoc(collection(db, 'properties'), property);\n        console.log(`Added property: ${property.title}`);\n      } catch (error) {\n        console.error(`Error adding property ${property.title}:`, error);\n      }\n    }\n\n    console.log('Database setup completed successfully!');\n    return true;\n  } catch (error) {\n    console.error('Error setting up database:', error);\n    return false;\n  }\n};\n\n// Function to check if database is already set up\nexport const checkDatabaseSetup = async () => {\n  try {\n    const { getDocs, collection } = await import('firebase/firestore');\n    const propertiesSnapshot = await getDocs(collection(db, 'properties'));\n    const adminsSnapshot = await getDocs(collection(db, 'admins'));\n    \n    return {\n      hasProperties: !propertiesSnapshot.empty,\n      hasAdmins: !adminsSnapshot.empty\n    };\n  } catch (error) {\n    console.error('Error checking database setup:', error);\n    return { hasProperties: false, hasAdmins: false };\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}